<h1>Image Uploader</h1>

<form id="upload-form" action="/" method="POST" enctype="multipart/form-data">
  <h2>Select an image to upload:</h2>
  <div class="upload-container"><input id="file-picker" type="file" name="image"></div>
  <div><input type="submit" value="Upload Image"></div>
</form>

<p id="message">{{message}}</p>

<h2>Generated Thumbnails</h2>
{{#each this.thumbnails}}
  <img class="uploaded-image" src="https://{{../accountName}}.blob.core.windows.net/{{../containerName}}/{{name}}">
{{/each}}

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const message = document.getElementById('message');
    const picker = document.getElementById('file-picker');
    document.getElementById('upload-form').addEventListener('submit', (e) => {
      message.innerText = '';
      if(!picker.files.length) {
        message.innerText = 'Please select an image to upload.';
        e.preventDefault();
        return false;
      }
    });
  });
</script>